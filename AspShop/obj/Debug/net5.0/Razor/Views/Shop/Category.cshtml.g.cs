#pragma checksum "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml" "{8829d00f-11b8-4213-878b-770e8597ac16}" "3b1495c66710224c427f683b320df8111e98941d378c10d0bc99756c05e87314"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Shop_Category), @"mvc.1.0.view", @"/Views/Shop/Category.cshtml")]
namespace AspNetCore
{
    #line hidden
    using global::System;
    using global::System.Collections.Generic;
    using global::System.Linq;
    using global::System.Threading.Tasks;
    using global::Microsoft.AspNetCore.Mvc;
    using global::Microsoft.AspNetCore.Mvc.Rendering;
    using global::Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
using ShopWebApp;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
using ShopWebApp.Core.Entities;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA256", @"3b1495c66710224c427f683b320df8111e98941d378c10d0bc99756c05e87314", @"/Views/Shop/Category.cshtml")]
    #nullable restore
    public class Views_Shop_Category : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<CategoryModel>
    #nullable disable
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 4 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
  
    Layout = "_Layout";
    int c = 0;
    string productName = "";

#line default
#line hidden
#nullable disable
            DefineSection("top", async() => {
                WriteLiteral("\n    <div class=\"jumbotron jumbotron-fluid\" style=\"margin-top: 5vh; margin-bottom: -30px\">\n        <h1 class=\"text-center display-4 align-bottom\">");
#nullable restore
#line 11 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
                                                  Write(Model.Category.Name);

#line default
#line hidden
#nullable disable
                WriteLiteral("</h1>\n        <p class=\"text-center display-5 align-bottom\">");
#nullable restore
#line 12 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
                                                 Write(Model.Category.About);

#line default
#line hidden
#nullable disable
                WriteLiteral("</p>\n    </div>\n");
            }
            );
            WriteLiteral("\n");
            DefineSection("modal", async() => {
                WriteLiteral(@"
    <div class=""modal fade"" id=""staticBackdrop"" data-keyboard=""false"" tabindex=""-1"" aria-labelledby=""staticBackdropLabel"" aria-hidden=""true"">
        <div class=""modal-dialog modal-dialog-centered"">
            <div class=""modal-content"">
                <div class=""modal-header"">
                    <h5 class=""modal-title"" id=""staticBackdropLabel"">Koszyk</h5>
                    <button type=""button"" class=""close"" data-dismiss=""modal"" aria-label=""Close"">
                        <span aria-hidden=""true"">&times;</span>
                    </button>
                </div>
                <div class=""modal-body"">
                    <h4>Dodano nowy produkt do koszyka</h4>
                    <p id=""productname""></p>
                </div>
                <div class=""modal-footer"">
                    <button type=""button"" class=""btn btn-block btn-outline-success"" data-dismiss=""modal"">Kontynuuj zakupy</button>
                    <a href=""/cart"" class=""btn btn-block btn-success"">Koszyk</a>
                </div>");
                WriteLiteral("\n            </div>\n        </div>\n    </div>\n");
            }
            );
            DefineSection("left", async() => {
                WriteLiteral(@"
    <div class=""btn-group d-md-none btn-block"" role=""group"" aria-label=""subcategories/sort"">
        <button class=""btn btn-outline-secondary"" type=""button"" data-toggle=""collapse"" data-target=""#subcategories"" aria-expanded=""false"" aria-controls=""subcategories"">
            Podkategorie
        </button>
        <button class=""btn btn-outline-secondary"" type=""button"" data-toggle=""collapse"" data-target=""#sort"" aria-expanded=""false"" aria-controls=""sort"">
            Sortowanie
        </button>
    </div>

    <div class=""sticky-top flex-column"" style=""top: 65px"">
        <div class=""collapse dont-collapse-sm list-group"" id=""subcategories"">
            <span class=""list-group-item font-weight-bold text-muted"">");
#nullable restore
#line 50 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
                                                                 Write(Model.Category.Name);

#line default
#line hidden
#nullable disable
                WriteLiteral("</span>\n");
#nullable restore
#line 51 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
             foreach (Subcategory subcategory in Model.Category.Subcategories)
            {

#line default
#line hidden
#nullable disable
                WriteLiteral("                <a");
                BeginWriteAttribute("href", " href=\"", 2382, "\"", 2430, 4);
                WriteAttributeValue("", 2389, "/s/", 2389, 3, true);
#nullable restore
#line 53 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
WriteAttributeValue("", 2392, Model.Category.Code, 2392, 20, false);

#line default
#line hidden
#nullable disable
                WriteAttributeValue("", 2412, "/", 2412, 1, true);
#nullable restore
#line 53 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
WriteAttributeValue("", 2413, subcategory.Code, 2413, 17, false);

#line default
#line hidden
#nullable disable
                EndWriteAttribute();
                WriteLiteral(" class=\"list-group-item list-group-item-action\">");
#nullable restore
#line 53 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
                                                                                                              Write(subcategory.Name);

#line default
#line hidden
#nullable disable
                WriteLiteral("</a>\n");
#nullable restore
#line 54 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
            }

#line default
#line hidden
#nullable disable
                WriteLiteral("        </div>\n    </div>\n");
            }
            );
            DefineSection("right", async() => {
                WriteLiteral(@"

    <div class=""sticky-top flex-column"" style=""top: 65px"">
        <div class=""collapse dont-collapse-sm list-group"" id=""sort"">
            <span class=""list-group-item font-weight-bold text-muted"">Sortowanie</span>
            <button type=""button"" onclick=""changeQuery('sort', 'name')"" class=""list-group-item list-group-item-action"">Nazwa od A do Z</button>
            <button type=""button"" onclick=""changeQuery('sort', '-name')"" class=""list-group-item list-group-item-action"">Nazwa od Z do A</button>
            <button type=""button"" onclick=""changeQuery('sort', 'price')"" class=""list-group-item list-group-item-action"">Cena od najniższej</button>
            <button type=""button"" onclick=""changeQuery('sort', '-price')"" class=""list-group-item list-group-item-action"">Cena od najwyższej</button>
            <button type=""button"" onclick=""changeQuery('sort', 'rating')"" class=""list-group-item list-group-item-action"">Po ocenie użytkowników</button>
            <button type=""button"" onclick=""changeQuery('sort', 'pop");
                WriteLiteral("ularity\')\" class=\"list-group-item list-group-item-action\">Po popularności</button>\n        </div>\n    </div>\n");
            }
            );
            WriteLiteral(@"
<script>
    function addToCart(code = '') {
        $.post(""/cart/add/"" + code);
    }
    function changeItemName(name = '') {
        var element = document.getElementById(""productname"");
        element.innerHTML = name;
        return false;
    }
</script>
<div class=""row"">
");
#nullable restore
#line 84 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
     foreach (Product prod in Model.Products)
    {
        if (c == 3)
        {

#line default
#line hidden
#nullable disable
            WriteLiteral("        ");
            WriteLiteral("</div>\n        ");
            WriteLiteral("<div class=\"row\">\n");
#nullable restore
#line 90 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
            c = 0;
        }
        c++;

#line default
#line hidden
#nullable disable
            WriteLiteral("        <div class=\"col-lg-4 d-flex align-items-stretch\" style=\"padding-left: 5px; padding-right: 5px\">\n            <div class=\"card\" style=\"margin-top: 10px;\">\n                <a");
            BeginWriteAttribute("href", " href=\"", 4323, "\"", 4343, 2);
            WriteAttributeValue("", 4330, "/p/", 4330, 3, true);
#nullable restore
#line 95 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
WriteAttributeValue("", 4333, prod.Code, 4333, 10, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral("><img class=\"card-img-top\"");
            BeginWriteAttribute("src", " src=\"", 4370, "\"", 4395, 2);
            WriteAttributeValue("", 4376, "/images/", 4376, 8, true);
#nullable restore
#line 95 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
WriteAttributeValue("", 4384, prod.Photo, 4384, 11, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            BeginWriteAttribute("alt", " alt=\"", 4396, "\"", 4412, 1);
#nullable restore
#line 95 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
WriteAttributeValue("", 4402, prod.Code, 4402, 10, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" style=\"margin-top: 10px; padding-left:5px; padding-right:5px\"></a>\n                <div class=\"card-body d-flex flex-column\">\n");
#nullable restore
#line 97 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
                      
                        double price = prod.Price / 100.0, oldPrice = prod.OldPrice / 100.0, discount = oldPrice == 0 ? 0 : Math.Round((oldPrice - price) / oldPrice, 2) * 100;
                        double rate = -1;
                        int stars = 0, halfStars = 0;
                        if (prod.RatingVotes > 0)
                        {
                            rate = Math.Round(prod.RatingSum / (double)prod.RatingVotes, 2);
                            halfStars = Convert.ToInt32(rate / 0.5);
                            double rest = rate - halfStars * 0.5;
                            if (rest >= 0.5)
                                halfStars++;
                            stars = halfStars / 2;
                            if (halfStars % 2 == 1)
                                halfStars = 1;
                            else
                                halfStars = 0;
                        }
                        productName = prod.Brand + " " + prod.Name;
                    

#line default
#line hidden
#nullable disable
            WriteLiteral("                    <a");
            BeginWriteAttribute("href", " href=\"", 5597, "\"", 5617, 2);
            WriteAttributeValue("", 5604, "/p/", 5604, 3, true);
#nullable restore
#line 116 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
WriteAttributeValue("", 5607, prod.Code, 5607, 10, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" class=\"text-dark nounderline\"><h5 class=\"card-title\">");
#nullable restore
#line 116 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
                                                                                            Write(prod.Brand);

#line default
#line hidden
#nullable disable
            WriteLiteral(" ");
#nullable restore
#line 116 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
                                                                                                        Write(prod.Name);

#line default
#line hidden
#nullable disable
            WriteLiteral("</h5></a>\n                    <p class=\"card-text\">");
#nullable restore
#line 117 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
                                    Write(prod.About);

#line default
#line hidden
#nullable disable
            WriteLiteral("</p>\n                    <p class=\"text-warning mt-auto\">\n");
#nullable restore
#line 119 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
                         if (rate != -1)
                        {
                            

#line default
#line hidden
#nullable disable
#nullable restore
#line 121 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
                             for (int i = 0; i < stars; i++)
                            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                ");
            WriteLiteral("<i class=\"bi-star-fill\"></i>\n");
#nullable restore
#line 124 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
                            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 125 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
                             if (halfStars == 1)
                            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                ");
            WriteLiteral("<i class=\"bi-star-half\"></i>\n");
#nullable restore
#line 128 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
                            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 129 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
                             for (int i = stars + halfStars; i < 5; i++)
                            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                ");
            WriteLiteral("<i class=\"bi-star\"></i>\n");
#nullable restore
#line 132 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
                            }

#line default
#line hidden
#nullable disable
            WriteLiteral("                            ");
            WriteLiteral("(");
#nullable restore
#line 133 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
                          Write(prod.RatingVotes);

#line default
#line hidden
#nullable disable
            WriteLiteral(")\n");
#nullable restore
#line 134 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
                        }

#line default
#line hidden
#nullable disable
            WriteLiteral("                    </p>\n");
#nullable restore
#line 136 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
                     if (prod.Price < prod.OldPrice)
                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                        <div>\n                            <span style=\"color: orangered; text-decoration: line-through; text-decoration-color: darkred\">");
#nullable restore
#line 139 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
                                                                                                                     Write(oldPrice);

#line default
#line hidden
#nullable disable
            WriteLiteral(" zł</span><span class=\"ml-2\" style=\"color: forestgreen\">- ");
#nullable restore
#line 139 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
                                                                                                                                                                                        Write(discount);

#line default
#line hidden
#nullable disable
            WriteLiteral("%</span>\n                        </div>\n");
#nullable restore
#line 141 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
                    }

#line default
#line hidden
#nullable disable
#nullable restore
#line 142 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
                     if (prod.Stock != 0)
                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                        <div class=\"btn-group mt-auto\">\n                            <a");
            BeginWriteAttribute("href", " href=\"", 7044, "\"", 7064, 2);
            WriteAttributeValue("", 7051, "/p/", 7051, 3, true);
#nullable restore
#line 145 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
WriteAttributeValue("", 7054, prod.Code, 7054, 10, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" class=\"btn btn-outline-primary\">");
#nullable restore
#line 145 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
                                                                               Write(price.ToString("C"));

#line default
#line hidden
#nullable disable
            WriteLiteral("</a>\n                            <a");
            BeginWriteAttribute("href", " href=\"", 7153, "\"", 7160, 0);
            EndWriteAttribute();
            WriteLiteral(" class=\"btn btn-outline-success\" data-toggle=\"modal\" data-target=\"#staticBackdrop\"");
            BeginWriteAttribute("onclick", " onclick=\"", 7243, "\"", 7308, 6);
            WriteAttributeValue("", 7253, "changeItemName(\'", 7253, 16, true);
#nullable restore
#line 146 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
WriteAttributeValue("", 7269, productName, 7269, 12, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 7281, "\');", 7281, 3, true);
            WriteAttributeValue(" ", 7284, "addToCart(\'", 7285, 12, true);
#nullable restore
#line 146 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
WriteAttributeValue("", 7296, prod.Code, 7296, 10, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 7306, "\')", 7306, 2, true);
            EndWriteAttribute();
            WriteLiteral("><i class=\"bi-cart-plus-fill\"></i></a>\n                        </div>\n");
#nullable restore
#line 148 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
                    }
                    else
                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                        <a");
            BeginWriteAttribute("href", " href=\"", 7474, "\"", 7494, 2);
            WriteAttributeValue("", 7481, "/p/", 7481, 3, true);
#nullable restore
#line 151 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
WriteAttributeValue("", 7484, prod.Code, 7484, 10, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" class=\"btn btn-outline-warning mt-auto\">Niedostępny</a>\n");
#nullable restore
#line 152 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
                    }

#line default
#line hidden
#nullable disable
            WriteLiteral("                </div>\n            </div>\n        </div>\n");
#nullable restore
#line 156 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
    }

#line default
#line hidden
#nullable disable
            WriteLiteral("</div>\n");
#nullable restore
#line 158 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
  
    int prev = Model.Page - 1, next = Model.Page + 1;

#line default
#line hidden
#nullable disable
            WriteLiteral("<br />\n");
#nullable restore
#line 162 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
 if (Model.Page > 1)
{

#line default
#line hidden
#nullable disable
            WriteLiteral("    <p class=\"float-left text-dark nounderline pointer\"");
            BeginWriteAttribute("onclick", " onclick=\"", 7788, "\"", 7826, 4);
            WriteAttributeValue("", 7798, "changeQuery(\'page\',", 7798, 19, true);
            WriteAttributeValue(" ", 7817, "\'", 7818, 2, true);
#nullable restore
#line 164 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
WriteAttributeValue("", 7819, prev, 7819, 5, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 7824, "\')", 7824, 2, true);
            EndWriteAttribute();
            WriteLiteral("><i class=\"bi-arrow-left\"></i> Poprzednia</p>\n");
#nullable restore
#line 165 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
}

#line default
#line hidden
#nullable disable
#nullable restore
#line 166 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
 if (Model.Page < Model.LastPage)
{

#line default
#line hidden
#nullable disable
            WriteLiteral("    <p class=\"float-right text-dark nounderline pointer\"");
            BeginWriteAttribute("onclick", " onclick=\"", 7967, "\"", 8005, 4);
            WriteAttributeValue("", 7977, "changeQuery(\'page\',", 7977, 19, true);
            WriteAttributeValue(" ", 7996, "\'", 7997, 2, true);
#nullable restore
#line 168 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
WriteAttributeValue("", 7998, next, 7998, 5, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 8003, "\')", 8003, 2, true);
            EndWriteAttribute();
            WriteLiteral(">Następna <i class=\"bi-arrow-right\"></i></p>\n");
#nullable restore
#line 169 "E:\interview-tasks\Exceed\AspShop\Views\Shop\Category.cshtml"
}

#line default
#line hidden
#nullable disable
        }
        #pragma warning restore 1998
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<CategoryModel> Html { get; private set; } = default!;
        #nullable disable
    }
}
#pragma warning restore 1591
